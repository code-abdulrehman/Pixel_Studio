<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Studio — Pixel Art Creation</title>
    <meta name="description" content="Create stunning pixel art. Auto-shading, smart palettes, and instant export.">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;700&family=Press+Start+2P&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0
        }

        body {
            font-family: 'Press Start 2P', cursive;
            background: #f8fafc;
            color: #0f172a;
            overflow-x: hidden;
            user-select: none
        }

        .font-sans {
            font-family: 'Inter', sans-serif;
        }

        canvas {
            image-rendering: pixelated;
            cursor: crosshair
        }

        html {
            scroll-behavior: smooth
        }

        /* HERO */
        .hero {
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden
        }

        .hero-bg {
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse 80% 60% at 50% 40%, rgba(59, 130, 246, .1), transparent 70%), radial-gradient(ellipse 50% 40% at 80% 30%, rgba(99, 102, 241, .08), transparent), radial-gradient(ellipse 50% 50% at 20% 70%, rgba(139, 92, 246, .05), transparent), #f8fafc
        }

        .hero-grid-bg {
            position: absolute;
            inset: 0;
            background-image: linear-gradient(rgba(0, 0, 0, .03) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 0, 0, .03) 1px, transparent 1px);
            background-size: 40px 40px;
            mask-image: radial-gradient(ellipse 70% 60% at 50% 40%, #000 20%, transparent 70%);
            -webkit-mask-image: radial-gradient(ellipse 70% 60% at 50% 40%, #000 20%, transparent 70%);
            pointer-events: none
        }

        /* Animated mosaic grid */
        #heroMosaic {
            position: absolute;
            inset: 0;
            pointer-events: none;
            z-index: 1
        }

        /* Orbs */
        .orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            animation: orbFloat 12s ease-in-out infinite;
            z-index: 0
        }

        .orb-1 {
            width: 500px;
            height: 500px;
            background: rgba(59, 130, 246, .1);
            top: -10%;
            left: -5%;
            animation-delay: 0s
        }

        .orb-2 {
            width: 400px;
            height: 400px;
            background: rgba(99, 102, 241, .08);
            bottom: -5%;
            right: -5%;
            animation-delay: -4s
        }

        .orb-3 {
            width: 300px;
            height: 300px;
            background: rgba(6, 182, 212, .1);
            top: 40%;
            right: 20%;
            animation-delay: -8s
        }

        @keyframes orbFloat {

            0%,
            100% {
                transform: translate(0, 0) scale(1)
            }

            33% {
                transform: translate(30px, -20px) scale(1.05)
            }

            66% {
                transform: translate(-20px, 15px) scale(.95)
            }
        }

        .hero-content {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 2rem;
            max-width: 900px
        }



        @keyframes blink {

            0%,
            100% {
                opacity: 1
            }

            50% {
                opacity: .2
            }
        }

        .hero-title {
            position: relative;
            z-index: 10;
            font-size: clamp(1.4rem, 3.5vw, 2.2rem);
            font-weight: 400;
            line-height: 1.6;
            letter-spacing: 0;
            margin-bottom: 1.2rem;
            color: #0f172a
        }

        .hero-title .grad {
            background: linear-gradient(135deg, #3b82f6 0%, #4f46e5 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text
        }

        .hero-sub {
            position: relative;
            z-index: 10;
            font-size: clamp(0.5rem, 1.2vw, 0.65rem);
            color: #475569;
            max-width: 600px;
            margin-bottom: 2.5rem;
            margin: 10px auto;
            line-height: 2;
            text-align: center;
        }

        /* Stats row */
        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-bottom: 2.5rem;
            flex-wrap: wrap
        }

        .hero-stat {
            text-align: center
        }

        .hero-stat .num {
            font-size: 1.2rem;
            font-weight: 800;
            color: #0f172a;
            margin-bottom: .2rem
        }

        .hero-stat .lbl {
            font-size: .5rem;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: .05em;
            padding-top: .6rem;
            border-top: 1px solid #cbd5e1
        }

        /* CTA */
        .cta-group {
            display: flex;
            gap: 14px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 3rem
        }

        .btn-p {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 14px 30px;
            background: linear-gradient(135deg, #4f46e5, #3b82f6);
            color: #fff;
            border: none;
            border-radius: 0;
            font-size: .6rem;
            font-weight: 400;
            cursor: pointer;
            transition: all .3s;
            text-decoration: none;
            box-shadow: 4px 4px 0 rgba(59, 130, 246, .25);
        }

        .btn-p:hover {
            transform: translateY(-2px);
            box-shadow: 6px 6px 0 rgba(59, 130, 246, .35);
        }

        .btn-s {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 14px 30px;
            background: #fff;
            color: #4f46e5;
            border: 2px solid #e2e8f0;
            border-radius: 0;
            font-size: .6rem;
            font-weight: 400;
            cursor: pointer;
            transition: all .3s;
            text-decoration: none;
            box-shadow: 4px 4px 0 rgba(59, 130, 246, .25);
        }

        .btn-s:hover {
            background: #f1f5f9;
            border-color: #cbd5e1;
            transform: translateY(-2px)
        }

        /* Product preview mockup */
        .hero-preview {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
            border-radius: 0;
            overflow: visible;
            border: 2px solid #e2e8f0;
            background: #ffffff;
            box-shadow: 6px 6px 0 rgba(0, 0, 0, 0.06);
        }

        .hero-preview canvas {
            display: block;
            width: 100%;
            border-radius: 0;
        }

        .hero-copy-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 50;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #ffffff;
            border: 2px solid #e2e8f0;
            border-radius: 0;
            cursor: pointer;
            color: #475569;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.06);
        }

        .hero-copy-btn:hover {
            transform: scale(1.05);
            background: #4f46e5;
            color: #fff;
            border-color: #4f46e5;
            box-shadow: 4px 4px 0 rgba(79, 70, 229, 0.2);
        }

        .hero-copy-btn svg {
            transition: transform 0.3s ease;
        }

        .hero-copy-btn:hover svg {
            transform: scale(1.1);
        }

        /* Hero copy modal — in hero section */
        .hero-copy-modal {
            position: fixed;
            inset: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease, visibility 0.2s ease;
        }

        .hero-copy-modal.is-open {
            opacity: 1;
            visibility: visible;
        }

        .hero-copy-modal-backdrop {
            position: absolute;
            inset: 0;
            background: rgba(15, 23, 42, 0.5);
            backdrop-filter: blur(6px);
        }

        .hero-copy-modal-box {
            position: relative;
            width: 100%;
            max-width: 360px;
            background: #fff;
            border: 2px solid #e2e8f0;
            padding: 1.5rem 1.75rem;
            box-shadow: 6px 6px 0 rgba(0, 0, 0, 0.08);
        }

        .hero-copy-modal-close {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f1f5f9;
            border: 2px solid #e2e8f0;
            color: #64748b;
            font-size: 1.25rem;
            line-height: 1;
            cursor: pointer;
            transition: background 0.15s, color 0.15s;
        }

        .hero-copy-modal-close:hover {
            background: #e2e8f0;
            color: #0f172a;
        }

        .hero-copy-modal-title {
            font-size: 0.7rem;
            font-weight: 400;
            color: #0f172a;
            margin-bottom: 0.5rem;
            padding-right: 2rem;
        }

        .hero-copy-modal-desc {
            font-size: 0.45rem;
            color: #64748b;
            line-height: 1.8;
            margin-bottom: 1.25rem;
        }

        .hero-copy-modal-actions {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .hero-copy-modal-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 12px 16px;
            font-size: 0.55rem;
            font-weight: 400;
            border: 2px solid transparent;
            cursor: pointer;
            transition: background 0.15s, border-color 0.15s, color 0.15s;
        }

        .hero-copy-modal-btn-primary {
            background: #4f46e5;
            color: #fff;
            border-color: #4f46e5;
        }

        .hero-copy-modal-btn-primary:hover {
            background: #4338ca;
            border-color: #4338ca;
        }

        .hero-copy-modal-btn-secondary {
            background: #f8fafc;
            color: #475569;
            border-color: #e2e8f0;
        }

        .hero-copy-modal-btn-secondary:hover {
            background: #eef2ff;
            border-color: #c7d2fe;
            color: #4f46e5;
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #0f172a;
            color: #f8fafc;
            padding: 12px 24px;
            border-radius: 0;
            font-size: .85rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 99999;
            border: 2px solid #334155;
            box-shadow: 6px 6px 0 rgba(0, 0, 0, 0.3);
            opacity: 0;
            transition: all .4s cubic-bezier(.4, 0, .2, 1);
            pointer-events: none
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0)
        }

        .toast svg {
            flex-shrink: 0
        }

        /* FEATURES - INFINITE SCROLL */
        .feat-bar {
            overflow: hidden;
            padding: 1.8rem 0;
            border-top: 2px solid #e2e8f0;
            border-bottom: 2px solid #e2e8f0;
            background: #f1f5f9;
            position: relative;
            box-shadow: 0 4px 0 rgba(0, 0, 0, 0.03);
        }

        .feat-bar::before,
        .feat-bar::after {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            width: 80px;
            z-index: 2;
            pointer-events: none
        }

        .feat-bar::before {
            left: 0;
            background: linear-gradient(90deg, #f1f5f9, transparent)
        }

        .feat-bar::after {
            right: 0;
            background: linear-gradient(90deg, transparent, #f1f5f9)
        }

        .feat-track {
            display: flex;
            gap: 3rem;
            animation: marquee 20s linear infinite;
            width: max-content
        }

        @keyframes marquee {
            0% {
                transform: translateX(0)
            }

            100% {
                transform: translateX(-50%)
            }
        }

        .feat-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: .5rem;
            color: #475569;
            white-space: nowrap;
            flex-shrink: 0
        }

        .feat-icon {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(59, 130, 246, .1);
            border: 2px solid rgba(59, 130, 246, .2);
            border-radius: 0;
            color: #60a5fa;
            box-shadow: 3px 3px 0 rgba(59, 130, 246, .15);
        }

        /* SECTIONS */
        .section-wrap {
            background: #f8fafc;
            box-shadow: 0 4px 0 rgba(0, 0, 0, 0.03);
        }

        .section {
            padding: 5rem 2rem;
            max-width: 1100px;
            margin: 0 auto;
        }

        .section h2 {
            text-align: center;
            font-size: clamp(0.75rem, 2vw, 1rem);
            font-weight: 400;
            letter-spacing: 0;
            margin-bottom: .6rem;
            color: #0f172a;
            line-height: 1.8
        }

        .section .sub {
            text-align: center;
            color: #64748b;
            font-size: clamp(0.4rem, 1vw, 0.55rem);
            max-width: 550px;
            margin: 0 auto 3rem;
            line-height: 2
        }

        /* CARDS */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem
        }

        .card {
            background: #ffffff;
            border: 2px solid #e2e8f0;
            border-radius: 0;
            padding: 2rem;
            position: relative;
            overflow: hidden;
            transition: border-color .2s ease;
            box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.06);
        }

        .card .card-glow {
            display: none;
        }

        .card-pixel {
            position: absolute;
            width: 16px;
            height: 16px;
            background: #4e46e572;
            opacity: 0.2;
            pointer-events: none;
            z-index: 0;
            image-rendering: pixelated;
            animation: card-pixel-fade 0.5s ease-out forwards;
        }

        @keyframes card-pixel-fade {
            0% { opacity: 1; transform: scale(1); }
            60% { opacity: 1; }
            100% { opacity: 0; transform: scale(0.6); }
        }

        .card:hover {
            border-color: #a5b4fc;
            box-shadow: 6px 6px 0 rgba(79, 70, 229, 0.1);
        }

        /* Pixel-style shadow — use across full page */
        .pixel-shadow {
            box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.06);
        }

        .pixel-shadow-accent {
            box-shadow: 4px 4px 0 rgba(79, 70, 229, 0.12);
        }

        .card-icon {
            position: relative;
            z-index: 1;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #eef2ff;
            border: 2px solid #c7d2fe;
            border-radius: 0;
            margin-bottom: 1.2rem;
            color: #4f46e5;
            box-shadow: 4px 4px 0 rgba(79, 70, 229, 0.12);
        }

        .card h3 {
            position: relative;
            z-index: 1;
            font-size: 0.6rem;
            font-weight: 400;
            margin-bottom: .6rem;
            color: #0f172a;
            line-height: 1.8
        }

        .card p {
            position: relative;
            z-index: 1;
            font-size: 0.45rem;
            color: #64748b;
            line-height: 2
        }

        /* EDITOR / STUDIO */
        .editor {
            position: relative;
            padding: 8rem 2rem;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: #f1f5f9;
            overflow: hidden
        }

        .editor-bg {
            position: absolute;
            inset: 0;
            background:
                radial-gradient(circle at 20% 30%, rgba(99, 102, 241, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(236, 72, 153, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(59, 130, 246, 0.04) 0%, transparent 70%);
            z-index: 0;
        }

        .editor-grid {
            position: absolute;
            inset: 0;
            background-image: linear-gradient(rgba(0, 0, 0, 0.04) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 0, 0, 0.04) 1px, transparent 1px);
            background-size: 32px 32px;
            mask-image: radial-gradient(circle at 50% 50%, black, transparent 80%);
            -webkit-mask-image: radial-gradient(circle at 50% 50%, black, transparent 80%);
            z-index: 1;
            pointer-events: none;
        }

        .editor .ed-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(120px);
            pointer-events: none;
            z-index: 0;
            opacity: 0.6;
        }

        .editor .ed-orb-1 {
            width: 500px;
            height: 500px;
            background: rgba(99, 102, 241, 0.15);
            top: -10%;
            left: -10%;
            animation: orbFloat 20s ease-in-out infinite;
        }

        .editor .ed-orb-2 {
            width: 400px;
            height: 400px;
            background: rgba(236, 72, 153, 0.12);
            bottom: -5%;
            right: -5%;
            animation: orbFloat 20s ease-in-out infinite;
            animation-delay: -10s;
        }

        .editor h2 {
            position: relative;
            z-index: 10;
            font-size: clamp(1.5rem, 4vw, 2.8rem);
            font-weight: 400;
            letter-spacing: 0;
            margin-bottom: 0.5rem;
            text-align: center;
            color: #0f172a;
            line-height: 1.8
        }

        .editor h2 span {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text
        }

        .editor .sub {
            position: relative;
            z-index: 10;
            text-align: center;
            color: #475569;
            font-size: clamp(0.45rem, 1vw, 0.6rem);
            max-width: 600px;
            margin: 0 auto 4rem;
            line-height: 2.2
        }

        .ed-wrap {
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            gap: 2.5rem;
            width: 100%;
            max-width: 1000px;
            background: #ffffff;
            border: 2px solid #e2e8f0;
            padding: 2.5rem;
            border-radius: 0;
            box-shadow: 6px 6px 0 rgba(0, 0, 0, 0.06);
        }

        @media(min-width:1024px) {
            .ed-wrap {
                flex-direction: row
            }
        }

        .ctrl {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 0;
            padding:1.5rem;
            width: 100%;
            flex-shrink: 0;
            transition: border-color 0.3s ease;
            box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.04);
        }

        .ctrl:hover {
            border-color: #cbd5e1;
        }

        @media(min-width:1024px) {
            .ctrl {
                width: 270px
            }
        }

        .ctrl label {
            display: block;
            font-size: .5rem;
            color: #475569;
            text-transform: uppercase;
            letter-spacing: .08em;
            font-weight: 400;
            margin-bottom: 8px
        }

        .cg {
            margin-bottom: 1.4rem
        }

        .ctrl input[type=color] {
            width: 100%;
            height: 42px;
            background: #ffffff;
            border: 2px solid #e2e8f0;
            border-radius: 0;
            cursor: pointer;
            padding: 2px;
            box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.04);
        }

        .shade-g {
            display: grid;
            grid-template-columns: repeat(9, 1fr);
            gap: 3px;
            margin-top: 6px
        }

        .shade-g div {
            height: 26px;
            border-radius: 0;
            transition: transform .2s;
            box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.04);
        }

        .shade-g div:hover {
            transform: scale(1.15)
        }

        .gs-block {
            border: 2px solid #c7d2fe;
            background: #f8fafc;
            padding: 12px;
            box-shadow: 4px 4px 0 rgba(79, 70, 229, 0.12);
        }

        .gs-hdr {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px
        }

        .gs-val {
            font-size: .5rem;
            color: #0f172a;
            background: #eef2ff;
            border: 2px solid #c7d2fe;
            padding: 4px 10px;
            border-radius: 0;
            box-shadow: 3px 3px 0 rgba(79, 70, 229, 0.12);
        }

        .ctrl input[type=range] {
            width: 100%;
            height: 8px;
            appearance: none;
            -webkit-appearance: none;
            background: #e2e8f0;
            border: 2px solid #cbd5e1;
            border-radius: 0;
            cursor: pointer;
            outline: none;
            box-shadow: inset 3px 3px 0 rgba(0,0,0,0.06);
        }

        .ctrl input[type=range]::-webkit-slider-thumb {
            appearance: none;
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            background: #4f46e5;
            border: 2px solid #6366f1;
            border-radius: 0;
            cursor: pointer;
            box-shadow: 4px 4px 0 rgba(79, 70, 229, 0.25);
        }

        .ticks {
            display: flex;
            justify-content: space-between;
            font-size: .45rem;
            color: #64748b;
            margin-top: 8px;
        }

        .ticks span {
            padding: 2px 6px;
            border: 1px solid #e2e8f0;
            background: #fff;
            box-shadow: 2px 2px 0 rgba(0,0,0,0.04);
        }

        .divider {
            height: 1px;
            background: #e2e8f0;
            margin: 1.2rem 0
        }

        .btn-e {
            width: 100%;
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 0;
            font-size: .5rem;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: .06em;
            cursor: pointer;
            transition: all .2s steps(2, end);
            margin-bottom: 8px;
            box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.04);
        }

        .btn-r {
            background: rgba(239, 68, 68, .06);
            color: #f87171;
            border-color: rgba(239, 68, 68, .12)
        }

        .btn-r:hover {
            background: rgba(239, 68, 68, .12);
            border-color: rgba(239, 68, 68, .25)
        }

        .btn-x {
            background: rgba(59, 130, 246, .06);
            color: #60a5fa;
            border-color: rgba(59, 130, 246, .12)
        }

        .btn-x:hover {
            background: rgba(59, 130, 246, .12);
            border-color: rgba(59, 130, 246, .25)
        }

        .hint {
            font-size: .45rem;
            color: #64748b;
            margin-top: 6px
        }

        .cv-area {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: flex-start
        }

        .cv-frame {
            padding: 10px;
            background: #fff;
            border-radius: 0;
            border: 2px solid #e2e8f0;
            box-shadow: 6px 6px 0 rgba(0, 0, 0, 0.08);
            position: relative;
        }

        .cv-frame::after {
            content: none;
        }

        footer {
            width: 100%;
            box-sizing: border-box;
            text-align: center;
            padding: 3rem 2rem;
            padding-bottom: 0;
            background: #ffffff;
            border-top: 1px solid #e2e8f0;
            color: #475569;
            font-size: .5rem;
            line-height: 2;
            position: relative;
        }

        footer .footer-brand {
            font-size: clamp(5rem, 2.5vw, 1.1rem);
            color: #0f172a;
            margin-bottom: 1rem;
            line-height: 5rem;
            position: absolute;
            top:68%;
            width: 100%;
            left: 50%;
            transform: translateX(-50%);
            display: block;
            background: linear-gradient(180deg, #4f46e5 0%, #f6f6f65e 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        footer a {
            color: #4f46e5;
            text-decoration: none
        }

        .faq {
            width: 100%;
            box-sizing: border-box;
            padding: 4rem 2rem;
            background: #f8fafc;
            border-top: 2px solid #e2e8f0;
        }

        .faq-inner {
            max-width: 700px;
            margin: 0 auto;
        }

        .faq h2 {
            font-size: 0.75rem;
            font-weight: 400;
            color: #0f172a;
            margin-bottom: 2rem;
            text-align: center;
            line-height: 1.8;
        }

        .faq-item {
            background: #fff;
            border: 2px solid #e2e8f0;
            margin-bottom: 1rem;
            box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.04);
        }

        .faq-item:last-child {
            margin-bottom: 0;
        }

        .faq-q {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.75rem;
            padding: 1rem 1.25rem;
            cursor: pointer;
            font-size: 0.55rem;
            font-weight: 400;
            color: #0f172a;
            line-height: 1.6;
            text-align: left;
            width: 100%;
            border: none;
            background: none;
            font-family: inherit;
        }

        .faq-q:hover {
            background: #f8fafc;
        }

        .faq-q::after {
            content: '+';
            flex-shrink: 0;
            font-size: 0.7rem;
            color: #64748b;
            transition: transform 0.2s ease;
        }

        .faq-item.open .faq-q::after {
            content: '−';
        }

        .faq-a {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.25s ease;
        }

        .faq-item.open .faq-a {
            max-height: 200px;
        }

        .faq-a-inner {
            padding: 0 1.25rem 1rem;
            font-size: 0.45rem;
            color: #64748b;
            line-height: 2;
            border-top: 1px solid #f1f5f9;
        }

        .fi {
            opacity: 0;
            transform: translateY(25px);
            transition: opacity .6s ease, transform .6s ease
        }

        .fi.v {
            opacity: 1;
            transform: translateY(0)
        }
    </style>
</head>

<body>

    <!-- SVG Icon Defs -->
    <svg style="display:none">
        <defs>
            <symbol id="i-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M5 12h14" />
                <path d="M12 5l7 7-7 7" />
            </symbol>
            <symbol id="i-play" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10" />
                <polygon points="10 8 16 12 10 16 10 8" />
            </symbol>
            <symbol id="i-brush" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M18.37 2.63a2.12 2.12 0 013 3L14 13l-4 1 1-4z" />
                <path d="M9 15a3 3 0 00-3 3c0 2-2 3-2 3s3 0 3-2a3 3 0 013-3z" />
            </symbol>
            <symbol id="i-palette" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <circle cx="13.5" cy="6.5" r=".5" />
                <circle cx="17.5" cy="10.5" r=".5" />
                <circle cx="8.5" cy="7.5" r=".5" />
                <circle cx="6.5" cy="12" r=".5" />
                <path
                    d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.93 0 1.5-.67 1.5-1.5 0-.4-.13-.73-.38-1-.25-.27-.38-.6-.38-1 0-.83.67-1.5 1.5-1.5H16c3.31 0 6-2.69 6-6 0-5.5-4.5-9-10-9z" />
            </symbol>
            <symbol id="i-grid" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="3" width="7" height="7" />
                <rect x="14" y="3" width="7" height="7" />
                <rect x="3" y="14" width="7" height="7" />
                <rect x="14" y="14" width="7" height="7" />
            </symbol>
            <symbol id="i-download" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4" />
                <polyline points="7 10 12 15 17 10" />
                <line x1="12" y1="15" x2="12" y2="3" />
            </symbol>
            <symbol id="i-lock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
                <path d="M7 11V7a5 5 0 0110 0v4" />
            </symbol>
            <symbol id="i-zap" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
            </symbol>
            <symbol id="i-target" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10" />
                <circle cx="12" cy="12" r="6" />
                <circle cx="12" cy="12" r="2" />
            </symbol>
            <symbol id="i-cpu" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <rect x="4" y="4" width="16" height="16" rx="2" ry="2" />
                <rect x="9" y="9" width="6" height="6" />
                <line x1="9" y1="1" x2="9" y2="4" />
                <line x1="15" y1="1" x2="15" y2="4" />
                <line x1="9" y1="20" x2="9" y2="23" />
                <line x1="15" y1="20" x2="15" y2="23" />
                <line x1="20" y1="9" x2="23" y2="9" />
                <line x1="20" y1="14" x2="23" y2="14" />
                <line x1="1" y1="9" x2="4" y2="9" />
                <line x1="1" y1="14" x2="4" y2="14" />
            </symbol>
            <symbol id="i-gamepad" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <line x1="6" y1="12" x2="10" y2="12" />
                <line x1="8" y1="10" x2="8" y2="14" />
                <line x1="15" y1="13" x2="15.01" y2="13" />
                <line x1="18" y1="11" x2="18.01" y2="11" />
                <path
                    d="M17.32 5H6.68a4 4 0 00-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 003 3c1.124 0 2.09-.648 2.547-1.592l.67-1.408H15.78l.67 1.408A2.957 2.957 0 0019 19a3 3 0 003-3c0-1.544-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.152A4 4 0 0017.32 5z" />
            </symbol>
            <symbol id="i-layers" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <polygon points="12 2 2 7 12 12 22 7 12 2" />
                <polyline points="2 17 12 22 22 17" />
                <polyline points="2 12 12 17 22 12" />
            </symbol>
            <symbol id="i-save" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z" />
                <polyline points="17 21 17 13 7 13 7 21" />
                <polyline points="7 3 7 8 15 8" />
            </symbol>
            <symbol id="i-code" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <polyline points="16 18 22 12 16 6" />
                <polyline points="8 6 2 12 8 18" />
                <line x1="14" y1="4" x2="10" y2="20" />
            </symbol>
            <symbol id="i-copy" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
                <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" />
            </symbol>
        </defs>
    </svg>

    <!-- HERO -->
    <section class="hero" id="hero">
        <div class="hero-bg"></div>
        <div class="hero-grid-bg"></div>
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
        <canvas id="heroMosaic"></canvas>

        <div class="hero-content">
            <h1 class="hero-title"><span class="grad">Create Pixel Art</span><br>with Precision</h1>
            <p class="hero-sub">The smartest pixel art editor for indie devs, game designers & digital artists.
                Auto-shading, smart palettes, and one-click export — all in your browser.</p>

            <div class="hero-stats">
                <div class="hero-stat">
                    <div class="num">9</div>
                    <div class="lbl">Auto Shades</div>
                </div>
                <div class="hero-stat">
                    <div class="num">64×64</div>
                    <div class="lbl">Max Grid</div>
                </div>
                <div class="hero-stat">
                    <div class="num">0ms</div>
                    <div class="lbl">Setup Time</div>
                </div>
                <div class="hero-stat">
                    <div class="num">∞</div>
                    <div class="lbl">Colors</div>
                </div>
            </div>

            <div class="cta-group">
                <a href="#editor" class="btn-p"><svg width="18" height="18">
                        <use href="#i-arrow" />
                    </svg> Start Creating — Free</a>
                <a href="#showcase" class="btn-s"><svg width="18" height="18">
                        <use href="#i-play" />
                    </svg> See Features</a>
            </div>

            <div class="hero-preview">
                <canvas id="heroPreviewCanvas" width="800" height="400"></canvas>
                <button class="hero-copy-btn" id="heroCopyBtn" title="Copy canvas">
                    <svg width="18" height="18">
                        <use href="#i-copy" />
                    </svg>
                </button>
            </div>

            <!-- Hero copy modal (shown in hero section) -->
            <div id="heroCopyModal" class="hero-copy-modal" aria-hidden="true">
                <div class="hero-copy-modal-backdrop"></div>
                <div class="hero-copy-modal-box">
                    <button type="button" class="hero-copy-modal-close" id="heroCopyModalClose" aria-label="Close">&times;</button>
                    <h3 class="hero-copy-modal-title">Save this art</h3>
                    <p class="hero-copy-modal-desc">Copy to clipboard or download as PNG.</p>
                    <div class="hero-copy-modal-actions">
                        <button type="button" id="heroCopyModalCopy" class="hero-copy-modal-btn hero-copy-modal-btn-primary">
                            <svg width="14" height="14"><use href="#i-copy"/></svg> Copy to clipboard
                        </button>
                        <button type="button" id="heroCopyModalDownload" class="hero-copy-modal-btn hero-copy-modal-btn-secondary">Download PNG</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Toast -->
    <div class="toast" id="toast">
        <svg width="16" height="16" fill="none" stroke="#60a5fa" stroke-width="2.5" stroke-linecap="round"
            stroke-linejoin="round">
            <polyline points="2 8 6 12 14 4" />
        </svg>
        <span id="toastMsg">Copied!</span>
    </div>

    <!-- FEATURES BAR - INFINITE SCROLL -->
    <div class="feat-bar" id="features">
        <div class="feat-track">
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-brush" />
                    </svg></div><span>Smart Brush</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-palette" />
                    </svg></div><span>Auto Palettes</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-grid" />
                    </svg></div><span>Custom Grids</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-download" />
                    </svg></div><span>PNG Export</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-lock" />
                    </svg></div><span>100% Private</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-zap" />
                    </svg></div><span>Zero Setup</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-layers" />
                    </svg></div><span>Layer Support</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-save" />
                    </svg></div><span>Auto Save</span>
            </div>
            <!-- Duplicate for seamless loop -->
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-brush" />
                    </svg></div><span>Smart Brush</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-palette" />
                    </svg></div><span>Auto Palettes</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-grid" />
                    </svg></div><span>Custom Grids</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-download" />
                    </svg></div><span>PNG Export</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-lock" />
                    </svg></div><span>100% Private</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-zap" />
                    </svg></div><span>Zero Setup</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-layers" />
                    </svg></div><span>Layer Support</span>
            </div>
            <div class="feat-item">
                <div class="feat-icon"><svg width="18" height="18">
                        <use href="#i-save" />
                    </svg></div><span>Auto Save</span>
            </div>
        </div>
    </div>

    <!-- SHOWCASE -->
    <div class="section-wrap">
        <section class="section" id="showcase">
            <h2 class="fi">Built for <span
                    style="background:linear-gradient(135deg,#60a5fa,#4f46e5);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text">Pixel
                    Artists</span></h2>
            <p class="sub fi">Everything you need to go from idea to polished pixel art, without leaving your browser.
            </p>
            <div class="card-grid">
                <div class="card fi">
                    <div class="card-glow"></div>
                    <div class="card-icon"><svg width="22" height="22">
                            <use href="#i-target" />
                        </svg></div>
                    <h3>Precision Drawing</h3>
                    <p>Click and hold for pressure-sensitive shading. The longer you hold, the darker the shade — 9
                        levels
                        of depth from a single color.</p>
                </div>
                <div class="card fi">
                    <div class="card-glow"></div>
                    <div class="card-icon"><svg width="22" height="22">
                            <use href="#i-gamepad" />
                        </svg></div>
                    <h3>Game-Ready Assets</h3>
                    <p>Export crisp, pixel-perfect PNGs at native resolution. Perfect for retro games, sprites, icons,
                        and
                        NFT collections.</p>
                </div>
                <div class="card fi">
                    <div class="card-glow"></div>
                    <h3>Embed Anywhere</h3>
                    <p>Copy your pixel art as clean <code style="color:#6366f1;font-size:.82rem">&lt;svg&gt;</code> or
                        CSS
                        code. Paste directly into any HTML page or React app — no images needed.</p>
                </div>
            </div>
        </section>
    </div>

    <!-- EDITOR -->
    <section class="editor" id="editor">
        <div class="editor-bg"></div>
        <div class="editor-grid"></div>
        <div class="ed-orb ed-orb-1"></div>
        <div class="ed-orb ed-orb-2"></div>
        <h2 class="fi"><span>Pixel Studio</span></h2>
        <p class="sub fi">The world's most advanced browser-based pixel art studio. Craft perfect sprites with
            smart shading and instant exports.</p>
        <div class="ed-wrap fi">
            <div class="ctrl">
                <div class="cg"><label>Base Color</label><input type="color" id="colorPicker" value="#22c55e"></div>
                <div class="cg"><label>9 Auto Shades</label>
                    <div id="shadePreview" class="shade-g"></div>
                </div>
                <div class="cg">
                    <div class="gs-block">
                        <div class="gs-hdr"><label style="margin:0">Grid Size</label><span id="gridSizeLabel"
                                class="gs-val">32</span></div>
                        <input type="range" min="16" max="64" step="16" value="32" id="gridSlider">
                        <div class="ticks"><span>16</span><span>32</span><span>48</span><span>64</span></div>
                    </div>
                </div>
                <div class="divider"></div>
                <button id="resetBtn" class="btn-e btn-r">Reset</button>
                <button id="exportBtn" class="btn-e btn-x">Export PNG</button>
                <button id="embedBtn" class="btn-e"
                    style="background:rgba(6,182,212,.06);color:#22d3ee;border-color:rgba(6,182,212,.12)"
                    onmouseover="this.style.background='rgba(6,182,212,.12)';this.style.borderColor='rgba(6,182,212,.25)'"
                    onmouseout="this.style.background='rgba(6,182,212,.06)';this.style.borderColor='rgba(6,182,212,.12)'">
                        Embed Code</button>
                <p class="hint">Hold longer on a pixel → darker shade.</p>

                <!-- Embed Modal -->
                <div id="embedModal"
                    style="display:none;position:fixed;inset:0;z-index:99999;background:rgba(15,23,42,0.4);backdrop-filter:blur(8px);align-items:center;justify-content:center;transition: opacity 0.3s ease;">
                    <div
                        style="background:#ffffff;border:2px solid #e2e8f0;border-radius:0;padding:2.5rem;max-width:600px;width:90%;position:relative;box-shadow: 6px 6px 0 rgba(0,0,0,0.1);">
                        <button id="embedClose"
                            style="position:absolute;top:20px;right:20px;background:#f8fafc;border:2px solid #e2e8f0;color:#64748b;width:36px;height:36px;border-radius:0;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all 0.2s;box-shadow: 3px 3px 0 rgba(0,0,0,0.04)">&times;</button>
                        <h3
                            style="font-size:1.5rem;font-weight:800;color:#0f172a;margin-bottom:8px;letter-spacing:-0.02em">
                            Export Your Creation
                        </h3>
                        <p style="font-size:0.35rem;color:#475569;margin-bottom:1.5rem;line-height:1.6">Share your
                            masterpiece with the world. Copy the production-ready code below.</p>
                        <div style="display:flex;gap:12px;margin-bottom:1.5rem">
                            <button class="embed-tab active" data-tab="svg"
                                style="padding:8px 18px;border-radius:0;font-size:.85rem;font-weight:600;cursor:pointer;border:2px solid #c7d2fe;background:#eef2ff;color:#4f46e5;font-family:Inter,sans-serif;transition:all 0.3s;box-shadow: 3px 3px 0 rgba(79,70,229,0.1)">Inline
                                SVG</button>
                            <button class="embed-tab" data-tab="css"
                                style="padding:8px 18px;border-radius:0;font-size:.85rem;font-weight:600;cursor:pointer;border:2px solid #e2e8f0;background:#f8fafc;color:#64748b;font-family:Inter,sans-serif;transition:all 0.3s;box-shadow: 3px 3px 0 rgba(0,0,0,0.04)">CSS
                                Shadow</button>
                        </div>
                        <div style="position:relative">
                            <pre id="embedCode"
                                style="background:#f8fafc;border:2px solid #e2e8f0;border-radius:0;padding:1.25rem;font-family:'JetBrains Mono',monospace;font-size:.75rem;color:#334155;overflow-x:auto;white-space:pre-wrap;word-break:break-all;max-height:250px;overflow-y:auto;line-height:1.6;box-shadow: inset 3px 3px 0 rgba(0,0,0,0.03)"></pre>
                        </div>
                        <button id="copyEmbedBtn"
                            style="margin-top:1.5rem;width:100%;padding:14px;background:linear-gradient(135deg,#4f46e5,#3b82f6);color:#fff;border:2px solid #4f46e5;border-radius:0;font-size:.95rem;font-weight:700;cursor:pointer;font-family:Inter,sans-serif;transition:all 0.3s;box-shadow: 4px 4px 0 rgba(79,70,229,0.25)"><svg
                                width="16" height="16" style="display:inline;vertical-align:-2px;margin-right:6px">
                                <use href="#i-copy" />
                            </svg>Copy Code</button>
                    </div>
                </div>
            </div>
            <div class="cv-area">
                <div class="cv-frame"><canvas id="canvas"></canvas></div>
            </div>
        </div>
    </section>

    <section class="faq" id="faq">
        <div class="faq-inner">
            <h2>FAQs</h2>
            <div class="faq-item">
                <button type="button" class="faq-q">How do I use the pixel editor?</button>
                <div class="faq-a">
                    <div class="faq-a-inner">Pick a base color, then click and hold on the canvas. The longer you hold, the darker the shade (9 levels). Use the grid size slider to change resolution. Export as PNG or copy embed code.</div>
                </div>
            </div>
            <div class="faq-item">
                <button type="button" class="faq-q">Can I use the pixel art in my game or project?</button>
                <div class="faq-a">
                    <div class="faq-a-inner">Yes. Export as PNG or copy the SVG/CSS embed code. Use it in games, apps, or websites. No watermark; it's yours.</div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <p style="position: relative; top: -2rem;">&copy; 2026 — Built with care for pixel artists everywhere.</p>
        <span class="footer-brand">Pixel Studio</span>
    </footer>

    <script>
        /* ===== FAQ ACCORDION ===== */
        (function () {
            document.querySelectorAll('.faq-item').forEach(function (item) {
                var btn = item.querySelector('.faq-q');
                if (!btn) return;
                btn.addEventListener('click', function () {
                    var isOpen = item.classList.contains('open');
                    document.querySelectorAll('.faq-item.open').forEach(function (other) { other.classList.remove('open'); });
                    if (!isOpen) item.classList.add('open');
                });
            });
        })();

        /* ===== HERO MOSAIC ANIMATION ===== */
        (function () {
            const mc = document.getElementById('heroMosaic'), mx = mc.getContext('2d');
            function resize() { mc.width = window.innerWidth; mc.height = window.innerHeight }
            resize(); window.addEventListener('resize', resize);
            const colors = ['#4f46e5', '#d946ef', '#f472b6', '#a855f7', '#6366f1', '#e879f9'];
            const PS = 20, cells = [];
            function init() {
                cells.length = 0;
                const cols = Math.ceil(mc.width / PS), rows = Math.ceil(mc.height / PS);
                for (let i = 0; i < 60; i++) {
                    cells.push({
                        x: Math.floor(Math.random() * cols) * PS, y: Math.floor(Math.random() * rows) * PS,
                        c: colors[Math.floor(Math.random() * colors.length)], a: 0, t: Math.random() * 6, s: .5 + Math.random() * 2, d: Math.random() > .5 ? 1 : -1
                    });
                }
            }
            init(); window.addEventListener('resize', init);
            function draw(t) {
                mx.clearRect(0, 0, mc.width, mc.height);
                cells.forEach(c => {
                    c.a = .04 + .06 * Math.abs(Math.sin((t / 1000) * c.s + c.t));
                    mx.fillStyle = c.c; mx.globalAlpha = c.a;
                    mx.fillRect(c.x, c.y, PS, PS);
                });
                mx.globalAlpha = 1;
                requestAnimationFrame(draw);
            }
            requestAnimationFrame(draw);
        })();

        /* ===== HERO PREVIEW - Pixel Art Landscape ===== */
        (function () {
            const cv = document.getElementById('heroPreviewCanvas'), cx = cv.getContext('2d');
            const W = cv.width, H = cv.height, PS = 10, cols = W / PS, rows = H / PS;
            const scene = [];
            window.heroScene = scene;
            // Sky gradient
            for (let y = 0; y < rows; y++) {
                for (let x = 0; x < cols; x++) {
                    const skyL = 12 + y * 0.8;
                    scene.push({ x: x * PS, y: y * PS, c: `hsl(240,30%,${skyL}%)`, a: 1, anim: false });
                }
            }
            // Stars
            for (let i = 0; i < 40; i++) {
                const sx = Math.floor(Math.random() * cols) * PS, sy = Math.floor(Math.random() * (rows * 0.5)) * PS;
                scene.push({ x: sx, y: sy, c: '#fff', a: 0.6, anim: true, phase: Math.random() * 6, speed: 1 + Math.random() * 2 });
            }
            // Sun
            const sunCx = 62, sunCy = 8;
            for (let dy = -4; dy <= 4; dy++) {
                for (let dx = -4; dx <= 4; dx++) {
                    if (dx * dx + dy * dy <= 16) {
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        let c = dist < 2 ? '#facc15' : dist < 3 ? '#fbbf24' : '#f59e0b';
                        scene.push({ x: (sunCx + dx) * PS, y: (sunCy + dy) * PS, c, a: dist < 3 ? 1 : 0.7, anim: true, phase: dx + dy, speed: 0.8 });
                    }
                }
            }
            // Sun rays
            const rayDirs = [[1, 0], [-1, 0], [0, 1], [0, -1], [1, 1], [-1, -1], [1, -1], [-1, 1]];
            rayDirs.forEach(([ddx, ddy]) => {
                for (let r = 5; r < 7; r++) {
                    scene.push({ x: (sunCx + ddx * r) * PS, y: (sunCy + ddy * r) * PS, c: '#fde68a', a: 0.35, anim: true, phase: r, speed: 1.5 });
                }
            });
            // Clouds
            const cloudData = [[10, 6, 8], [35, 4, 6], [55, 10, 5]];
            cloudData.forEach(([cx0, cy0, w]) => {
                for (let dx = 0; dx < w; dx++) {
                    for (let dy = 0; dy < 2; dy++) {
                        if (dy === 0 || (dx > 0 && dx < w - 1)) {
                            scene.push({ x: (cx0 + dx) * PS, y: (cy0 + dy) * PS, c: '#cbd5e1', a: 0.25, anim: true, phase: dx * .5, speed: .4 });
                        }
                    }
                }
            });
            // Mountains (back)
            const mt1 = [0, 0, 0, 0, 1, 2, 3, 5, 7, 9, 11, 12, 13, 14, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 3, 4, 5, 7, 9, 11, 13, 14, 15, 16, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 5, 7, 9, 10, 11, 11, 10, 9, 8, 7];
            for (let x = 0; x < Math.min(cols, mt1.length); x++) {
                const h = mt1[x];
                for (let dy = 0; dy < h; dy++) {
                    const py = rows - 10 - dy;
                    if (py >= 0) scene.push({ x: x * PS, y: py * PS, c: dy > h - 3 ? '#e2e8f0' : '#6366f1', a: dy > h - 3 ? 0.5 : 0.4, anim: false });
                }
            }
            // Mountains (front)
            const mt2 = [0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 4, 5, 7, 8, 10, 12, 13, 14, 14, 13, 12, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0, 0, 0, 0, 0, 1, 2, 4, 6, 8, 10, 12, 14, 15, 16, 17, 18, 18, 17, 16, 14, 12, 10, 8, 6, 4, 3, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
            for (let x = 0; x < Math.min(cols, mt2.length); x++) {
                const h = mt2[x];
                for (let dy = 0; dy < h; dy++) {
                    const py = rows - 8 - dy;
                    if (py >= 0) {
                        const c = dy > h - 2 ? '#fbcfe8' : dy > h - 4 ? '#4f46e5' : '#831843';
                        scene.push({ x: x * PS, y: py * PS, c, a: 0.85, anim: false });
                    }
                }
            }
            // Ground
            for (let y = rows - 8; y < rows; y++) {
                for (let x = 0; x < cols; x++) {
                    const c = y < rows - 6 ? '#166534' : y < rows - 4 ? '#15803d' : '#14532d';
                    scene.push({ x: x * PS, y: y * PS, c, a: 1, anim: false });
                }
            }
            // Trees
            const trees = [8, 20, 45, 58, 70];
            trees.forEach(tx => {
                // Trunk
                for (let dy = 0; dy < 3; dy++) scene.push({ x: tx * PS, y: (rows - 11 + dy) * PS, c: '#78350f', a: 1, anim: false });
                // Leaves
                for (let dy = -3; dy <= 0; dy++) {
                    for (let dx = -2; dx <= 2; dx++) {
                        if (Math.abs(dx) <= 2 - Math.abs(dy + 1)) {
                            scene.push({ x: (tx + dx) * PS, y: (rows - 14 - dy) * PS, c: dx === 0 && dy === -3 ? '#4ade80' : '#22c55e', a: 1, anim: false });
                        }
                    }
                }
            });
            // Water/lake
            for (let y = rows - 3; y < rows; y++) {
                for (let x = 25; x < 50; x++) {
                    scene.push({ x: x * PS, y: y * PS, c: '#4f46e5', a: 0.6, anim: true, phase: x * .3 + y * .5, speed: .6 });
                }
            }

            function draw(t) {
                cx.fillStyle = '#0c0c1a'; cx.fillRect(0, 0, W, H);
                scene.forEach(p => {
                    let a = p.a;
                    if (p.anim) a = p.a + 0.2 * Math.sin(t / 1000 * p.speed + p.phase);
                    cx.globalAlpha = Math.max(0, Math.min(1, a));
                    cx.fillStyle = p.c;
                    cx.fillRect(p.x, p.y, PS, PS);
                });
                cx.globalAlpha = 1;
                requestAnimationFrame(draw);
            }
            requestAnimationFrame(draw);
        })();

        /* ===== CARD: editor-style pixels spawn under cursor, fade after 500ms ===== */
        (function () {
            const PIXEL_SIZE = 8;
            const FADE_MS = 500;
            const THROTTLE_MS = 50;
            let lastSpawn = 0;

            document.querySelectorAll('.card').forEach(card => {
                card.addEventListener('mousemove', function (e) {
                    const now = Date.now();
                    if (now - lastSpawn < THROTTLE_MS) return;
                    lastSpawn = now;

                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;

                    const px = document.createElement('div');
                    px.className = 'card-pixel';
                    px.style.left = (x - PIXEL_SIZE / 2) + 'px';
                    px.style.top = (y - PIXEL_SIZE / 2) + 'px';
                    card.appendChild(px);

                    setTimeout(() => {
                        if (px.parentNode) px.parentNode.removeChild(px);
                    }, FADE_MS);
                });
            });
        })();

        /* ===== SCROLL OBSERVER ===== */
        (function () {
            const ob = new IntersectionObserver(e => e.forEach(i => { if (i.isIntersecting) i.target.classList.add('v') }), { threshold: .1 });
            document.querySelectorAll('.fi').forEach(el => ob.observe(el));
        })();

        /* ===== PIXEL EDITOR ===== */
        const CANVAS_SIZE = 512, SHADE_LEVELS = 9;
        let gridSize = 32, pixelSize, gridData = [], isDrawing = false, holdStartTime = 0, shades = [];
        const canvas = document.getElementById("canvas"), ctx = canvas.getContext("2d");
        const slider = document.getElementById("gridSlider"), sizeLabel = document.getElementById("gridSizeLabel");
        const resetBtn = document.getElementById("resetBtn"), exportBtn = document.getElementById("exportBtn");
        const colorPicker = document.getElementById("colorPicker"), shadePreview = document.getElementById("shadePreview");
        canvas.width = CANVAS_SIZE; canvas.height = CANVAS_SIZE;

        function hexToHSL(h) { let r = parseInt(h.slice(1, 3), 16) / 255, g = parseInt(h.slice(3, 5), 16) / 255, b = parseInt(h.slice(5, 7), 16) / 255, mx = Math.max(r, g, b), mn = Math.min(r, g, b), hu, s, l = (mx + mn) / 2; if (mx === mn) { hu = s = 0 } else { let d = mx - mn; s = l > .5 ? d / (2 - mx - mn) : d / (mx + mn); switch (mx) { case r: hu = (g - b) / d + (g < b ? 6 : 0); break; case g: hu = (b - r) / d + 2; break; case b: hu = (r - g) / d + 4; break }hu /= 6 } return [Math.round(hu * 360), Math.round(s * 100), Math.round(l * 100)] }
        function generateShades(bx) { const [h, s] = hexToHSL(bx); shades = []; for (let i = 0; i < SHADE_LEVELS; i++)shades.push(`hsl(${h},${s}%,${85 - i * 7}%)`); renderShadePreview() }
        function renderShadePreview() { shadePreview.innerHTML = ""; shades.forEach(c => { const d = document.createElement("div"); d.style.background = c; shadePreview.appendChild(d) }) }
        function setupGrid() { pixelSize = CANVAS_SIZE / gridSize; gridData = Array.from({ length: gridSize }, () => Array(gridSize).fill(null)); drawGrid() }
        function drawCell(x, y, c) { ctx.fillStyle = c; ctx.fillRect(x * pixelSize, y * pixelSize, pixelSize, pixelSize) }
        function drawGrid() { ctx.fillStyle = "#fff"; ctx.fillRect(0, 0, CANVAS_SIZE, CANVAS_SIZE); for (let y = 0; y < gridSize; y++)for (let x = 0; x < gridSize; x++)if (gridData[y][x]) drawCell(x, y, gridData[y][x]) }
        function getShade(ms) { const mx = 450, cl = Math.min(ms, mx); return shades[Math.min(Math.floor(cl / mx * SHADE_LEVELS), SHADE_LEVELS - 1)] }
        function handleDraw(e) { const r = canvas.getBoundingClientRect(), x = Math.floor((e.clientX - r.left) / pixelSize), y = Math.floor((e.clientY - r.top) / pixelSize); if (x < 0 || y < 0 || x >= gridSize || y >= gridSize) return; const c = getShade(performance.now() - holdStartTime); gridData[y][x] = c; drawCell(x, y, c) }
        canvas.addEventListener("mousedown", e => { isDrawing = true; holdStartTime = performance.now(); handleDraw(e) });
        canvas.addEventListener("mousemove", e => { if (isDrawing) handleDraw(e) });
        window.addEventListener("mouseup", () => isDrawing = false);
        function updateSliderTrack() { const v = parseInt(slider.value), mn = parseInt(slider.min), mx = parseInt(slider.max), p = ((v - mn) / (mx - mn)) * 100; slider.style.background = `linear-gradient(to right,#4f46e5 ${p}%,rgba(255,255,255,.06) ${p}%)` }
        slider.addEventListener("input", e => { gridSize = parseInt(e.target.value); sizeLabel.textContent = gridSize; updateSliderTrack(); setupGrid() });
        resetBtn.addEventListener("click", setupGrid);
        exportBtn.addEventListener("click", () => { const a = document.createElement("a"); a.download = "pixel-art.png"; a.href = canvas.toDataURL(); a.click() });
        colorPicker.addEventListener("input", e => generateShades(e.target.value));
        generateShades(colorPicker.value); setupGrid(); updateSliderTrack();

        /* ===== EMBED MODAL ===== */
        (function () {
            const modal = document.getElementById('embedModal');
            const embedBtn = document.getElementById('embedBtn');
            const closeBtn = document.getElementById('embedClose');
            const codeEl = document.getElementById('embedCode');
            const copyBtn = document.getElementById('copyEmbedBtn');
            let currentTab = 'svg';

            window.openEmbedModal = function (source) {
                window.currentEmbedSource = source;
                modal.style.display = 'flex';
                codeEl.textContent = getCode();
            };

            // Convert HSL string to hex for cleaner output
            function hslToHex(hslStr) {
                const tmp = document.createElement('div');
                tmp.style.color = hslStr;
                document.body.appendChild(tmp);
                const rgb = getComputedStyle(tmp).color;
                document.body.removeChild(tmp);
                const m = rgb.match(/\d+/g);
                if (!m) return hslStr;
                return '#' + m.slice(0, 3).map(v => parseInt(v).toString(16).padStart(2, '0')).join('');
            }

            function generateSVGCode() {
                if (window.currentEmbedSource === 'hero') {
                    const ps = 10;
                    let rects = '';
                    window.heroScene.forEach(p => {
                        let op = p.a < 1 ? ` opacity="${p.a.toFixed(2)}"` : '';
                        rects += `  <rect x="${p.x}" y="${p.y}" width="${ps}" height="${ps}" fill="${p.c}"${op}/>\n`;
                    });
                    return `<!-- Hero Pixel Art (80×40) -->\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400" width="800" height="400" style="image-rendering:pixelated">\n  <rect width="800" height="400" fill="#0c0c1a"/>\n${rects}</svg>`;
                }

                const ps = Math.max(1, Math.round(16 / gridSize * 10)); // pixel size in SVG
                const svgW = gridSize * ps;
                const svgH = gridSize * ps;
                const toHex = (c) => (c && c.startsWith && c.startsWith('#')) ? c : hslToHex(c);
                let rects = '';
                for (let y = 0; y < gridSize; y++) {
                    for (let x = 0; x < gridSize; x++) {
                        if (gridData[y][x]) {
                            const hex = toHex(gridData[y][x]);
                            rects += `  <rect x="${x * ps}" y="${y * ps}" width="${ps}" height="${ps}" fill="${hex}"/>\n`;
                        }
                    }
                }
                if (!rects) rects = '  <!-- Draw some pixels first! -->\n';
                return `<!-- Pixel Art (${gridSize}×${gridSize}) -->\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${svgW} ${svgH}" width="${svgW}" height="${svgH}" style="image-rendering:pixelated">\n  <rect width="${svgW}" height="${svgH}" fill="#fff"/>\n${rects}</svg>`;
            }

            function generateCSSCode() {
                if (window.currentEmbedSource === 'hero') {
                    const ps = 1;
                    const shadows = [];
                    window.heroScene.forEach(p => {
                        shadows.push(`${Math.round(p.x / 10)}px ${Math.round(p.y / 10)}px 0 ${p.c}`);
                    });
                    return `<!-- Hero Pixel Art (80×40) -->\n<div class="pixel-art-container" style="background:#0c0c1a; width:800px; height:400px; position:relative; overflow:hidden;">\n  <div class="pixel-art"></div>\n</div>\n\n<style>\n.pixel-art {\n  width: ${ps}px;\n  height: ${ps}px;\n  transform: scale(10);\n  transform-origin: top left;\n  box-shadow:\n    ${shadows.join(',\n    ')};\n}\n</style>`;
                }

                const toHex = (c) => (c && c.startsWith && c.startsWith('#')) ? c : hslToHex(c);
                const shadows = [];
                const ps = 1; // 1px per cell, scale with CSS
                for (let y = 0; y < gridSize; y++) {
                    for (let x = 0; x < gridSize; x++) {
                        if (gridData[y][x]) {
                            const hex = toHex(gridData[y][x]);
                            shadows.push(`${(x + 1) * ps}px ${(y + 1) * ps}px 0 ${hex}`);
                        }
                    }
                }
                if (!shadows.length) return '/* Draw some pixels first! */\n.pixel-art { width: 1px; height: 1px; }';
                const scale = Math.max(4, Math.round(256 / gridSize));
                return `<!-- Pixel Art (${gridSize}×${gridSize}) -->\n<div class="pixel-art"></div>\n\n<style>\n.pixel-art {\n  width: ${ps}px;\n  height: ${ps}px;\n  transform: scale(${scale});\n  transform-origin: top left;\n  margin: ${scale * gridSize / 2}px;\n  box-shadow:\n    ${shadows.join(',\n    ')};\n}\n</style>`;
            }

            function getCode() {
                return currentTab === 'svg' ? generateSVGCode() : generateCSSCode();
            }

            embedBtn.addEventListener('click', () => {
                window.openEmbedModal('editor');
            });
            closeBtn.addEventListener('click', () => modal.style.display = 'none');
            modal.addEventListener('click', e => { if (e.target === modal) modal.style.display = 'none' });

            document.querySelectorAll('.embed-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    currentTab = tab.dataset.tab;
                    document.querySelectorAll('.embed-tab').forEach(t => {
                        t.style.background = t === tab ? '#eef2ff' : '#f8fafc';
                        t.style.color = t === tab ? '#4f46e5' : '#64748b';
                        t.style.borderColor = t === tab ? '#c7d2fe' : '#e2e8f0';
                    });
                    codeEl.textContent = getCode();
                });
            });

            copyBtn.addEventListener('click', () => {
                navigator.clipboard.writeText(getCode()).then(() => {
                    copyBtn.textContent = '✓ Copied!';
                    copyBtn.style.background = 'linear-gradient(135deg,#22c55e,#16a34a)';
                    setTimeout(() => {
                        copyBtn.innerHTML = '<svg width="14" height="14" style="display:inline;vertical-align:-2px;margin-right:4px"><use href="#i-copy"/></svg>Copy to Clipboard';
                        copyBtn.style.background = 'linear-gradient(135deg,#4f46e5,#3b82f6)';
                    }, 2000);
                });
            });
        })();

        /* ===== TOAST ===== */
        function showToast(msg) {
            const t = document.getElementById('toast');
            document.getElementById('toastMsg').textContent = msg;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 2500);
        }

        /* ===== HERO COPY MODAL (open in hero section) ===== */
        (function () {
            const btn = document.getElementById('heroCopyBtn');
            const modal = document.getElementById('heroCopyModal');
            const closeBtn = document.getElementById('heroCopyModalClose');
            const backdrop = modal && modal.querySelector('.hero-copy-modal-backdrop');
            const copyBtn = document.getElementById('heroCopyModalCopy');
            const downloadBtn = document.getElementById('heroCopyModalDownload');
            const canvas = document.getElementById('heroPreviewCanvas');

            function openModal() { if (modal) { modal.classList.add('is-open'); modal.setAttribute('aria-hidden', 'false'); } }
            function closeModal() { if (modal) { modal.classList.remove('is-open'); modal.setAttribute('aria-hidden', 'true'); } }

            function doCopy() {
                if (!canvas) return;
                canvas.toBlob((blob) => {
                    if (!blob) return;
                    const item = new ClipboardItem({ 'image/png': blob });
                    navigator.clipboard.write([item]).then(() => {
                        if (typeof showToast === 'function') showToast('Canvas copied to clipboard!');
                        closeModal();
                    }).catch(() => { doDownload(); });
                }, 'image/png');
            }

            function doDownload() {
                if (!canvas) return;
                const a = document.createElement('a');
                a.download = 'pixel-art-hero.png';
                a.href = canvas.toDataURL('image/png');
                a.click();
                if (typeof showToast === 'function') showToast('Image saved (download)');
                closeModal();
            }

            if (btn) btn.addEventListener('click', openModal);
            if (closeBtn) closeBtn.addEventListener('click', closeModal);
            if (backdrop) backdrop.addEventListener('click', closeModal);
            if (copyBtn) copyBtn.addEventListener('click', doCopy);
            if (downloadBtn) downloadBtn.addEventListener('click', doDownload);
        })();
    </script>
</body>

</html>
